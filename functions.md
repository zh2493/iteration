writing\_functions
================

## Z scores

``` r
x_vec = rnorm(25, mean = 5, sd = 4)

(x_vec - mean(x_vec)) / sd(x_vec)
```

    ##  [1] -1.203200540 -0.527695978  0.083335520  2.569899736 -1.376416291
    ##  [6] -0.172779048 -0.438599924  1.365057090 -0.745272519 -0.303806695
    ## [11]  0.009072237 -0.852838035 -1.341939744 -0.045242764 -0.275079820
    ## [16] -0.444679642 -0.131521417 -0.926733860  0.459824546 -0.386303364
    ## [21]  2.118089995  0.499193743  0.908310176 -0.037442668  1.196769267

``` r
z_scores = function(x){
  
  z = (x - mean(x)) / sd(x)
  
  return(z)
   
}

z_scores(x = x_vec)
```

    ##  [1] -1.203200540 -0.527695978  0.083335520  2.569899736 -1.376416291
    ##  [6] -0.172779048 -0.438599924  1.365057090 -0.745272519 -0.303806695
    ## [11]  0.009072237 -0.852838035 -1.341939744 -0.045242764 -0.275079820
    ## [16] -0.444679642 -0.131521417 -0.926733860  0.459824546 -0.386303364
    ## [21]  2.118089995  0.499193743  0.908310176 -0.037442668  1.196769267

``` r
y_vec = rnorm(40, mean = 12, sd = .3)

z_scores(y_vec)
```

    ##  [1]  0.69153005  1.25024225  0.46325588 -0.51043322  0.75688081 -1.00290904
    ##  [7]  0.28170947  0.74947924 -1.31050418 -1.14302626 -0.19488160 -0.19103221
    ## [13]  1.58387563  0.81381358  1.35168270  0.60138773 -1.97418596  0.61812064
    ## [19] -1.61791030 -0.24967369  0.63337168 -1.35239499 -0.25629159 -0.08995860
    ## [25]  1.78769553 -0.99536393 -0.03506032 -0.39547581  0.32406204  0.85238580
    ## [31] -1.29688094  0.36690888 -1.41044672  0.64731254  1.19523882  1.55556569
    ## [37] -1.37936406 -1.07826253 -0.35721888  0.31675587

let’s try again

``` r
z_scores = function(x){
  
  if(!is.numeric(x)){
    stop("x needs to be numeric")
  }
  
  if(length(x) <3){
    stop("x should have at least 3 numbers")
  }
  
  z = (x - mean(x)) / sd(x)
  
  return(z)
}
```

``` r
z_scores(3)
```

    ## Error in z_scores(3): x should have at least 3 numbers

``` r
z_scores(c("my", "name", "is", "jeff"))
```

    ## Error in z_scores(c("my", "name", "is", "jeff")): x needs to be numeric

``` r
z_scores(mycars)
```

    ## Error in z_scores(mycars): 找不到对象'mycars'

``` r
z_scores(y_vec)
```

    ##  [1]  0.69153005  1.25024225  0.46325588 -0.51043322  0.75688081 -1.00290904
    ##  [7]  0.28170947  0.74947924 -1.31050418 -1.14302626 -0.19488160 -0.19103221
    ## [13]  1.58387563  0.81381358  1.35168270  0.60138773 -1.97418596  0.61812064
    ## [19] -1.61791030 -0.24967369  0.63337168 -1.35239499 -0.25629159 -0.08995860
    ## [25]  1.78769553 -0.99536393 -0.03506032 -0.39547581  0.32406204  0.85238580
    ## [31] -1.29688094  0.36690888 -1.41044672  0.64731254  1.19523882  1.55556569
    ## [37] -1.37936406 -1.07826253 -0.35721888  0.31675587

# Multiple outputs

``` r
mean_and_sd = function(x){
  
  if(!is.numeric(x)){
    stop("x needs to be numeric")
  }
  
  if(length(x) < 3){
    stop("x should have at least 3 numbers")
  }
  
  mean_x = mean(x)
  sd_x = sd(x)
  
  output_df = 
    tibble(
      mean = mean_x,
      sd = sd_x
    )
 
  return(output_df)
}

mean_and_sd(y_vec)
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  12.0 0.263

``` r
mean_and_sd(x_vec)
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  4.36  4.23
